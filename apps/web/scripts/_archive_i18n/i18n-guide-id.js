const fs = require('fs');
const path = require('path');

const filePath = path.join(__dirname, '..', 'messages', 'id.json');
const data = JSON.parse(fs.readFileSync(filePath, 'utf8'));

const idGuide = {
  "tsBlankPage": "Halaman kosong, tidak ada data",
  "tsBlankCause": "File PMS belum diunggah",
  "tsBlankFix": "Buka Upload, seret & lepas file XML/CSV dari PMS",
  "tsUploadFail": "Upload gagal",
  "tsUploadCause": "Format file salah",
  "tsUploadFix": "Gunakan file XML atau CSV yang diekspor dari PMS (Opera, RoomRaccoon, Cloudbeds)",
  "tsPickupNa": "Pickup menampilkan \"N/A\"",
  "tsPickupCause": "Perlu minimal 2 kali upload",
  "tsPickupFix": "Upload lagi, tunggu 7 hari untuk data pickup",
  "tsForecastEst": "Prakiraan menampilkan \"Perkiraan\"",
  "tsForecastCause": "Data pickup belum cukup",
  "tsForecastFix": "Terus upload setiap hari, prakiraan akurat tersedia setelah 2 minggu",
  "tsPriceBad": "Harga terlalu tinggi / terlalu rendah",
  "tsPriceCause": "Penumpukan promosi > 50%",
  "tsPriceFix": "Kurangi jumlah promosi atau periksa booster komisi",
  "tsSeasonWrong": "Season \"otomatis\" memilih season yang salah",
  "tsSeasonCause": "Rentang tanggal season tidak benar",
  "tsSeasonFix": "Buka Config Season, periksa rentang tanggal",
  "paywallSubtitle": "Panduan analisis OTB, Pickup, Prakiraan dan Manajemen Pendapatan",
  "paywallF1": "Memahami OTB (On The Books) & Pickup",
  "paywallF2": "Menganalisis Booking Pace & Sisa Pasokan",
  "paywallF3": "Strategi harga berbasis permintaan",
  "paywallF4": "Alur kerja Daily Actions",
  "morningExportPms": "Ekspor PMS",
  "morningUpload": "Unggah",
  "morningBuildData": "Bangun Data",
  "morningViewDash": "Lihat Dashboard",
  "morningAcceptPrice": "Terima/Override Harga",
  "morningUpdateOta": "Perbarui OTA",
  "morningTip": "Total waktu: ~5 menit. Setelah upload, sistem memproses data secara otomatis.",
  "stepsTitle": "5 Langkah Memulai",
  "step1Title": "Masuk",
  "step1Desc": "Gunakan akun Google yang diberikan admin. Setelah masuk, Anda akan melihat hotel yang ditugaskan di sidebar.",
  "step1Tip": "Jika tidak punya akses, hubungi admin via Zalo: 0778602953",
  "step2Title": "Unggah Data dari PMS",
  "step2Desc": "Buka menu <strong>Upload</strong> â†’ Seret & lepas file XML atau CSV dari PMS (Opera, RoomRaccoon, Cloudbeds...).",
  "step2Link": "Buka halaman Upload",
  "step2Warn": "Unggah data setiap hari (pagi) untuk metrik paling akurat.",
  "step3Title": "Bangun Data (otomatis)",
  "step3Desc": "Buka menu <strong>Data</strong> â†’ Klik tombol secara berurutan:",
  "step3Link": "Buka halaman Data",
  "step4Title": "Lihat Dashboard",
  "step4Kpi": "<strong>Kartu KPI:</strong> Kamar OTB, Sisa Pasokan, Pickup",
  "step4Charts": "<strong>Grafik:</strong> Grafik OTB harian, perbandingan tahun ke tahun",
  "step4Price": "<strong>Tabel Harga:</strong> Harga rekomendasi untuk setiap hari",
  "step4Link": "Buka Dashboard",
  "step5Title": "Buat Keputusan Harga",
  "step5Accept": "Terima",
  "step5AcceptDesc": "Terima harga rekomendasi sistem",
  "step5Override": "Override",
  "step5OverrideDesc": "Masukkan harga Anda sendiri",
  "glossaryTitle": "Istilah Industri",
  "glossaryTerm": "Istilah",
  "glossaryDef": "Definisi",
  "glossOtb": "On The Books â€” Kamar/pendapatan yang sudah dipesan",
  "glossAdr": "Average Daily Rate â€” Harga kamar rata-rata",
  "glossRevpar": "Pendapatan Per Kamar Tersedia",
  "glossOcc": "Tingkat hunian â€” % kamar terjual",
  "glossPickup": "Pemesanan baru dalam periode waktu tertentu",
  "glossBar": "Best Available Rate â€” Harga dasar di OTA (sebelum promo)",
  "glossNet": "Pendapatan aktual setelah komisi dan promosi",
  "glossDisplay": "Harga yang dilihat tamu di OTA (setelah promo)",
  "glossStly": "Same Time Last Year â€” Perbandingan tahun ke tahun",
  "glossPace": "Kecepatan pemesanan â€” dibandingkan periode yang sama",
  "glossRemaining": "Jumlah kamar tersedia untuk dijual",
  "glossCommission": "Komisi OTA (cth. Agoda 20%, Booking 18%)",
  "glossStacking": "Menggabungkan beberapa promo (aditif / progresif / pilih satu)",
  "faqTitle": "Masalah Umum & FAQ",
  "faqDqTitle": "Kualitas Data: ada peringatan?",
  "faqDqWarnings": "Sebagian besar peringatan adalah <code>PAST_STAY_DATE</code> â€” data memiliki tanggal menginap yang sudah lewat.",
  "faqDqClean": "Semua data valid.",
  "faqDqStats": "<strong>Hotel Anda:</strong> {total} baris OTB",
  "faqDqPast": ", di antaranya {past} baris sudah lewat ({pct}%)",
  "faqDqCompleteness": "Kelengkapan: <strong>{pct}%</strong>.",
  "faqPickupTitle": "\"Avg Pickup: N/A\" â€” Mengapa tidak ada angka?",
  "faqPickupDesc": "<strong>Pickup</strong> = Bandingkan pemesanan hari ini dengan 7 hari lalu. Perlu minimal <strong>2 upload â‰¥ 7 hari terpisah</strong>.",
  "faqForecastTitle": "Prakiraan menampilkan \"Perkiraan\" â€” Apakah akurat?",
  "faqForecastDesc": "Tanpa data pickup yang cukup, sistem menggunakan perkiraan kasar. Setelah <strong>â‰¥ 2 upload â‰¥ 7 hari terpisah</strong>, prakiraan akan berdasarkan pickup aktual.",
  "faqUploadTitle": "Sudah upload tapi data tidak muncul?",
  "faqUploadDesc": "Periksa: (1) File dalam format XML/CSV, (2) Jalankan Build OTB â†’ Build Features â†’ Run Forecast, (3) Tunggu beberapa detik untuk pemrosesan.",
  "rmDesc": "Revenue Management (RM) = <strong>menjual kamar yang tepat, dengan harga yang tepat, pada waktu yang tepat</strong> untuk memaksimalkan pendapatan. Sistem membantu Anda:",
  "rmMonitorOtb": "Pantau OTB",
  "rmMonitorDesc": "Berapa kamar yang dipesan, berapa yang tersedia",
  "rmForecast": "Prakiraan Permintaan",
  "rmForecastDesc": "Prediksi kecepatan pemesanan 30â€“90 hari ke depan",
  "rmPriceRec": "Rekomendasi Harga",
  "rmPriceRecDesc": "Terima harga sistem atau Override dengan harga Anda sendiri",
  "kpiDesc": "Dashboard menampilkan 4 kartu KPI utama. Baca berdasarkan pertanyaan umum GM:",
  "kpiOtbName": "Kamar OTB",
  "kpiOtbDesc": "Kamar yang sudah dipesan. Cth: OTB = 45 berarti Anda telah menjual 45 kamar untuk hari itu.",
  "kpiRemName": "Sisa Pasokan",
  "kpiRemDesc": "Kamar yang masih tersedia. Cth: Sisa = 15 berarti 15 kamar tersisa untuk dijual.",
  "kpiPickupName": "Pickup (7h)",
  "kpiPickupDesc": "Pemesanan baru dalam 7 hari terakhir. Pickup = +8 bagus (permintaan meningkat).",
  "kpiAdrName": "ADR",
  "kpiAdrDesc": "Harga kamar rata-rata. Cth: ADR = 1,2jt berarti rata-rata 1,2jt per kamar per malam.",
  "kpiLink": "Buka Dashboard untuk melihat KPI",
  "chartsDesc": "Grafik OTB membantu Anda membandingkan kinerja dengan <strong>Same Time Last Year (STLY)</strong>:",
  "chartsCurrent": "<strong>OTB Tahun Ini</strong> â€” Garis biru: pemesanan saat ini",
  "chartsStly": "<strong>STLY</strong> â€” Garis abu-abu: pemesanan waktu yang sama tahun lalu",
  "chartsPace": "<strong>Pace</strong> â€” <span class=\"text-emerald-600\">+5 OTB</span> = menjual 5 kamar lebih cepat dari tahun lalu",
  "chartsTip": "Jika Pace negatif (âˆ’), Anda menjual lebih lambat dari tahun lalu â†’ pertimbangkan menurunkan harga atau menambah promosi.",
  "recDesc": "Dashboard memiliki <strong>2 mode tampilan</strong>: Tinjauan Cepat dan Analisis Detail.",
  "recQuickTitle": "âš¡ Tinjauan Cepat",
  "recQuickDesc": "Tampilan cepat harga rekomendasi, aksi (Naik/Turun/Tahan), dan persetujuan.",
  "recQuickFor": "Untuk: GM tinjauan harga harian (5 menit)",
  "recDetailTitle": "ðŸ“Š Analisis Detail",
  "recDetailDesc": "Lihat OTB, Sisa, Prakiraan, Anchor, ADR â€” pahami MENGAPA sistem merekomendasikan.",
  "recDetailFor": "Untuk: analisis mendalam, override harga",
  "recColTitle": "Definisi Kolom (Analisis Detail)",
  "recColColumn": "Kolom",
  "recColMeaning": "Arti",
  "recColSource": "Sumber"
};

Object.assign(data.guidePage, idGuide);
fs.writeFileSync(filePath, JSON.stringify(data, null, 2) + '\n', 'utf8');
console.log(`âœ… id.json guidePage: patched ${Object.keys(idGuide).length} keys`);

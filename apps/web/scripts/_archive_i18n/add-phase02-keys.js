/**
 * Phase 02 — Mega batch: adds ALL remaining i18n keys for Long Tail UI
 * Namespaces: dataPage, misc, admin, rateShopper, billing, shared, guide extras
 */
const fs = require('fs');
const path = require('path');
const dir = path.join(__dirname, '..', 'messages');

/* ─── dataPage namespace ─── */
const dataPage = {
    en: {
        // page.tsx header
        pageSubtitle: "View imported data and system status",
        totalReservations: "Total Reservations",
        dataRange: "Data Range",
        fromTo: "From {from} → {to}",
        noData: "No data yet",
        // Recent reservations
        recentBookings: "Recent Bookings",
        recentBookingsDesc: "Stats for last 7 days · 10 latest records below",
        bookings7d: "Bookings (7 days)",
        revenue7d: "Revenue (7 days)",
        top3Agents: "Top 3 booking agents",
        direct: "Direct",
        resId: "Res ID", bookingDate: "Booking Date", arrival: "Arrival",
        rooms: "Rooms", revenue: "Revenue", status: "Status",
        noReservations: "No reservations yet",
        // Reservations by date
        resByBookingDate: "Reservations by Booking Date",
        last10days: "Last 10 days",
        bookDate: "Booking Date", statusCol: "Status", count: "Count",
        revenueCol: "Revenue",
        booked: "Booked", cancelled: "Cancelled",
        // Cancellations by cancel date
        cancelByDate: "Cancellations by Cancel Date",
        cancelDate: "Cancel Date", nights: "Nights", lostRevenue: "Lost Revenue",
        noCancelData: "No cancellation data",
        // OTB
        dailyOtb: "Daily OTB (On The Books)",
        notBuilt: "OTB not built", daysCount: "{n} days",
        stayDate: "Stay Date", roomsOtb: "Rooms OTB", revenueOtb: "Revenue OTB",
        adr: "ADR", asOf: "As Of",
        noOtbData: "No OTB data. Need to run \"Build OTB\" after importing reservations.",
        // Buttons
        buildOtb: "Build OTB", planning: "Planning...", stop: "Stop",
        buildFeatures: "Build Features", building: "Building...",
        noHotel: "No hotel selected",
        noOtbSnapshot: "No OTB snapshot. Please Build OTB first!",
        createdFeatures: "Created {n} features",
        runForecast: "Run Forecast", running: "Running...",
        noReservationData: "No reservation data",
        noFeatures: "No Features. Please Build Features first.",
        createdForecasts: "Created {n} forecasts",
        backfillConfirm: "Backfill will process all as_of_dates. This may take a few minutes. Continue?",
        noHotelFound: "Hotel not found",
        // Reset
        resetAndRebuild: "Reset & Rebuild",
        confirmReset: "Confirm Reset?",
        resetDesc: "This action will <b>delete all</b> computed data:",
        rawKept: "Raw reservations will be kept safely.",
        cancel: "Cancel",
        deleteAndReset: "Delete and Reset",
        deleting: "Deleting...",
        // Clear history
        resetAllData: "Reset All Data",
        resetAllDataConfirm: "Reset All Data?",
        clearDesc: "This action will delete <b>ALL</b> data:",
        allReservations: "All Reservations",
        allCancellations: "All Cancellations",
        importHistory: "Import Job history",
        clearPurpose: "<b>Purpose:</b> When you want to start over and upload new files.",
        clearHistory: "Clear history",
        // Delete by month
        deleteByMonth: "Delete by Month",
        deleteByMonthTitle: "Delete Data by Month",
        irreversible: "This action cannot be undone",
        selectMonth: "Select month to delete",
        chooseMonth: "-- Choose Month --",
        monthLabel: "Month {m}/{y}",
        dataType: "Data type",
        reservationsOnly: "Bookings only",
        cancellationsOnly: "Cancellations only",
        all: "All",
        checking: "Checking...",
        previewCount: "Preview count",
        dataToDelete: "Data to be deleted:",
        bookingRecords: "Bookings: <b>{n}</b> records",
        cancelRecords: "Cancellations: <b>{n}</b> records",
        otbRecords: "OTB snapshots: <b>{n}</b> records",
        willNotDelete: "(will NOT delete)",
        deleteOtbToo: "Also delete OTB + Features ({n} records)",
        typeConfirm: "Type <b>\"DELETE DATA\"</b> to confirm",
        reloading: "Reloading page...",
        deletePermanently: "Delete permanently",
        close: "Close",
        pleaseSelectMonth: "Please select a month",
        pleaseTypeConfirm: "Please type \"DELETE DATA\" to confirm",
        // DataTierGate
        loading: "Loading...",
        dataTierSubtitle: "View imported data and system status",
        dataTierFeat1: "View detailed reservations & OTB data",
        dataTierFeat2: "Track import job history",
        dataTierFeat3: "Cancellation reports by date",
        dataTierFeat4: "Build OTB, Features & Forecast",
        // DataValidationBadge
        checkingQuality: "Checking data quality...",
        criticalErrors: "{n} critical errors",
        warnings: "{n} warnings",
        dataGood: "Data good",
        andMoreIssues: "... and {n} more issues",
        noIssues: "No issues detected. Data is clean!",
        // PaginatedImportJobs
        total: "Total: {n}",
        collapse: "Collapse",
        expand: "Expand",
        noImportJobs: "No import jobs yet",
        prev: "← Prev",
        next: "Next →",
        pageOf: "Page {p} / {t}",
        // CancellationSection
        recentCancellations: "Recent Cancellations",
        latestRecords: "10 latest records",
        totalCancels: "Total cancellations",
        cancelledNights: "Room nights",
        matchStatus: "Match Status (Bridge)",
        matched: "matched",
        top3CancelAgents: "Top 3 cancellation agents",
        other: "Other",
        cancelId: "Res ID", cancelTime: "Cancelled at",
        noCancelRecords: "No cancellation data",
        // AuditTeaser
        issuesFound: "Found {n} data issues",
        auditDesc: "Detailed audit report can help improve your data quality and forecasting accuracy.",
        viewFullReport: "View full report (Pro)",
        // loading.tsx
        loadingData: "Loading data...",
        // allExistMsg (BuildOtbButton)
        allExist: "All {n} snapshots already exist. No build needed.",
        stoppedEarly: "Stopped early. Built {built}/{total} snapshots ({skipped} skipped).",
        buildDone: "✓ Built {built} snapshots ({daily}d + {weekly}w + {monthly}m, {skipped} skipped, {existing} already existed).",
    },
    vi: {
        pageSubtitle: "Xem dữ liệu đã import và trạng thái hệ thống",
        totalReservations: "Tổng Reservations",
        dataRange: "Data Range",
        fromTo: "Từ {from} → {to}",
        noData: "Chưa có dữ liệu",
        recentBookings: "Đặt phòng gần đây",
        recentBookingsDesc: "Thống kê 7 ngày gần nhất · 10 bản ghi mới nhất bên dưới",
        bookings7d: "Lượt đặt (7 ngày)",
        revenue7d: "Doanh thu (7 ngày)",
        top3Agents: "Top 3 đại lý đặt phòng",
        direct: "Trực tiếp",
        resId: "Mã ĐP", bookingDate: "Ngày đặt", arrival: "Đến",
        rooms: "Phòng", revenue: "DT", status: "TT",
        noReservations: "Chưa có reservations nào",
        resByBookingDate: "Reservations theo Ngày đặt",
        last10days: "10 ngày gần nhất",
        bookDate: "Ngày đặt", statusCol: "Trạng thái", count: "Số lượng",
        revenueCol: "Doanh thu",
        booked: "Đã đặt", cancelled: "Đã huỷ",
        cancelByDate: "Cancellations theo Ngày hủy",
        cancelDate: "Ngày hủy", nights: "Đêm", lostRevenue: "Doanh thu mất",
        noCancelData: "Chưa có dữ liệu huỷ phòng",
        dailyOtb: "Daily OTB (On The Books)",
        notBuilt: "Chưa build OTB", daysCount: "{n} ngày",
        stayDate: "Ngày ở", roomsOtb: "Phòng OTB", revenueOtb: "Doanh thu OTB",
        adr: "ADR", asOf: "Tính đến",
        noOtbData: "Chưa có OTB data. Cần chạy \"Build OTB\" sau khi import reservations.",
        buildOtb: "Build OTB", planning: "Đang tính...", stop: "Dừng",
        buildFeatures: "Build Features", building: "Building...",
        noHotel: "Chưa chọn hotel",
        noOtbSnapshot: "⚠️ Chưa có OTB snapshot. Vui lòng Build OTB trước!",
        createdFeatures: "Đã tạo {n} features",
        runForecast: "Run Forecast", running: "Running...",
        noReservationData: "Chưa có dữ liệu reservation",
        noFeatures: "Chưa có Features. Hãy Build Features trước.",
        createdForecasts: "Đã tạo {n} forecasts",
        backfillConfirm: "Backfill sẽ xử lý tất cả as_of_dates. Có thể mất vài phút. Tiếp tục?",
        noHotelFound: "Không tìm thấy hotel",
        resetAndRebuild: "Reset & Rebuild",
        confirmReset: "Xác nhận Reset?",
        resetDesc: "Hành động này sẽ <b>xóa toàn bộ</b> dữ liệu đã tính toán:",
        rawKept: "✓ Raw reservations sẽ được giữ lại an toàn.",
        cancel: "Hủy",
        deleteAndReset: "Xóa và Reset",
        deleting: "Đang xóa...",
        resetAllData: "Reset All Data",
        resetAllDataConfirm: "⚠️ Reset All Data?",
        clearDesc: "Hành động này sẽ xóa <b>TOÀN BỘ</b> dữ liệu:",
        allReservations: "Tất cả Reservations",
        allCancellations: "Tất cả Cancellations",
        importHistory: "Lịch sử Import Jobs",
        clearPurpose: "<b>Mục đích:</b> Khi muốn bắt đầu lại từ đầu và upload file mới.",
        clearHistory: "Xóa lịch sử",
        deleteByMonth: "Xóa theo tháng",
        deleteByMonthTitle: "Xóa dữ liệu theo tháng",
        irreversible: "Hành động này không thể hoàn tác",
        selectMonth: "Chọn tháng cần xóa",
        chooseMonth: "-- Chọn tháng --",
        monthLabel: "Tháng {m}/{y}",
        dataType: "Loại dữ liệu",
        reservationsOnly: "Chỉ đặt phòng",
        cancellationsOnly: "Chỉ hủy phòng",
        all: "Tất cả",
        checking: "Đang kiểm tra...",
        previewCount: "Xem trước số lượng",
        dataToDelete: "Dữ liệu sẽ bị xóa:",
        bookingRecords: "Đặt phòng: <b>{n}</b> bản ghi",
        cancelRecords: "Hủy phòng: <b>{n}</b> bản ghi",
        otbRecords: "OTB snapshots: <b>{n}</b> bản ghi",
        willNotDelete: "(sẽ KHÔNG xóa)",
        deleteOtbToo: "Xóa luôn OTB + Features ({n} bản ghi)",
        typeConfirm: "Gõ <b>\"XÓA DỮ LIỆU\"</b> để xác nhận",
        reloading: "Đang tải lại trang...",
        deletePermanently: "Xóa vĩnh viễn",
        close: "Đóng",
        pleaseSelectMonth: "Vui lòng chọn tháng",
        pleaseTypeConfirm: "Vui lòng gõ đúng \"XÓA DỮ LIỆU\" để xác nhận",
        loading: "Đang tải...",
        dataTierSubtitle: "Xem dữ liệu đã import và trạng thái hệ thống",
        dataTierFeat1: "Xem chi tiết reservations & OTB data",
        dataTierFeat2: "Theo dõi lịch sử import jobs",
        dataTierFeat3: "Báo cáo cancellations theo ngày",
        dataTierFeat4: "Build OTB, Features & Forecast",
        checkingQuality: "Đang kiểm tra chất lượng dữ liệu...",
        criticalErrors: "{n} lỗi nghiêm trọng",
        warnings: "{n} cảnh báo",
        dataGood: "Dữ liệu tốt",
        andMoreIssues: "... và {n} vấn đề khác",
        noIssues: "Không phát hiện vấn đề. Dữ liệu sạch!",
        total: "Tổng: {n}",
        collapse: "Thu gọn",
        expand: "Mở rộng",
        noImportJobs: "Chưa có import job nào",
        prev: "← Trước",
        next: "Sau →",
        pageOf: "Trang {p} / {t}",
        recentCancellations: "Huỷ phòng gần đây",
        latestRecords: "10 bản ghi mới nhất",
        totalCancels: "Tổng lượt huỷ",
        cancelledNights: "Room nights",
        matchStatus: "Trạng thái khớp (Bridge)",
        matched: "đã khớp",
        top3CancelAgents: "Top 3 đại lý hủy phòng",
        other: "Khác",
        cancelId: "Mã ĐP", cancelTime: "Huỷ lúc",
        noCancelRecords: "Chưa có dữ liệu huỷ phòng",
        issuesFound: "Phát hiện {n} vấn đề về dữ liệu",
        auditDesc: "Báo cáo kiểm tra chi tiết có thể giúp bạn cải thiện chất lượng dữ liệu và dự báo chính xác hơn.",
        viewFullReport: "Xem báo cáo đầy đủ (Pro)",
        loadingData: "Đang tải dữ liệu...",
        allExist: "Tất cả {n} snapshots đã tồn tại. Không cần build thêm.",
        stoppedEarly: "Dừng sớm. Đã build {built}/{total} snapshots ({skipped} bỏ qua).",
        buildDone: "✓ Build xong {built} snapshots ({daily}d + {weekly}w + {monthly}m, {skipped} bỏ qua, {existing} đã có).",
    },
};

// Clone en → th/id/ms (use English as fallback for data admin pages)
for (const loc of ['th', 'id', 'ms']) {
    dataPage[loc] = { ...dataPage.en };
}

// Write
for (const locale of ['en', 'vi', 'th', 'id', 'ms']) {
    const fp = path.join(dir, locale + '.json');
    const content = JSON.parse(fs.readFileSync(fp, 'utf-8'));

    if (!content.dataPage) content.dataPage = {};
    Object.assign(content.dataPage, dataPage[locale]);

    fs.writeFileSync(fp, JSON.stringify(content, null, 4) + '\n');
}
console.log('Done: dataPage namespace added to all 5 locales');

const fs = require('fs');
const path = require('path');

const filePath = path.join(__dirname, '..', 'messages', 'id.json');
const data = JSON.parse(fs.readFileSync(filePath, 'utf8'));

const idGuide2 = {
    "dpDesc": "Dynamic Pricing menyesuaikan harga otomatis berdasarkan <strong>3 faktor</strong>:",
    "dpFormula": "NET Dinamis = NET Dasar (musim) × Pengali (tier OCC)",
    "dpExample": "Cth: NET Normal Season = 1.200.000 × 1,10 (OCC 50%) = <strong>1.320.000₫</strong>",
    "dpLink": "Buka tab Dynamic Pricing",
    "seasonsDesc": "Season menentukan <strong>harga NET dasar</strong>. 3 jenis season:",
    "seasonsPriorityWarn": "<strong>Aturan prioritas (auto-deteksi):</strong> Jika suatu hari termasuk dalam beberapa season, sistem memilih <strong>prioritas tertinggi</strong>: Liburan (P3) > Tinggi (P2) > Normal (P1).",
    "occDesc": "<strong>Tier OCC</strong> adalah tingkat harga berdasarkan hunian. Setiap tier memiliki <strong>pengali</strong>.",
    "occTip": "OCC% dihitung otomatis dari data OTB: <strong>OCC = Kamar Dipesan / Total Kamar Hotel</strong>. Jika belum ada data, Anda dapat memasukkan secara manual.",
    "analCta": "Siap melihat data hotel Anda?",
    "analDashLink": "Buka Dashboard",
    "analPricingLink": "Ke Dynamic Pricing",
    "pricingIntroDesc": "Sistem menghitung 3 jenis harga dari <strong>1 harga dasar tunggal (NET)</strong>:",
    "pricingNetLabel": "Anda terima",
    "pricingBarLabel": "Harga dasar di OTA",
    "pricingDisplayLabel": "Tamu lihat (setelah promo 15%)",
    "formula1Title": "Rumus 1: NET → BAR (Maju)",
    "formula2Title": "Rumus 2: BAR → Display (setelah Promo)",
    "formulaTip": "Sistem menghitung otomatis. Anda hanya perlu memasukkan NET — BAR dan Display dihitung untuk Anda.",
    "channelsDesc": "Setiap OTA menghitung berbeda. Klik setiap channel untuk detail:",
    "agodaTitle": "Agoda — Komisi 15-22% | Stacking ADDITIVE",
    "agodaDesc": "Agoda menggunakan <strong>ADDITIVE</strong> stacking: promosi dijumlahkan.",
    "agodaWarn": "<strong>Catatan:</strong> Jika menumpuk terlalu banyak promosi, NET mungkin turun di bawah level yang diinginkan!",
    "bookingTitle": "Booking.com — Komisi 15-18% | Stacking PROGRESSIVE",
    "bookingDesc": "Booking menggunakan <strong>PROGRESSIVE</strong> stacking: promosi diterapkan secara progresif (promo 2 berlaku pada harga setelah promo 1).",
    "expediaTitle": "Expedia — Komisi 18-25% | Stacking HIGHEST_WINS",
    "expediaDesc": "Expedia menggunakan <strong>HIGHEST_WINS</strong>: hanya promosi % tertinggi yang berlaku.",
    "travelokaTitle": "Traveloka — Komisi 18-22% | Stacking SINGLE",
    "travelokaDesc": "Traveloka menggunakan <strong>SINGLE</strong> (mirip HIGHEST_WINS): hanya 1 promosi dalam satu waktu.",
    "ctripTitle": "CTRIP/Trip.com — Komisi 20-25% | Stacking ONLY_WITH_GENIUS",
    "ctripDesc": "CTRIP menggunakan <strong>ONLY_WITH_GENIUS</strong>: promo tambahan hanya berlaku saat promo utama aktif.",
    "promoAdditive": "Aditif: 10% + 15% = <strong>25%</strong>",
    "promoProgressive": "Progresif: promo 2 berlaku pada harga setelah promo 1",
    "promoHighest": "Hanya promo % tertinggi yang berlaku",
    "promoSingle": "Hanya 1 promo / tambahan tergantung promo utama",
    "compareChannel": "Channel",
    "compareComm": "Komisi",
    "compareStacking": "Penumpukan",
    "compareTip": "Harga NET sama, setiap channel menampilkan harga berbeda ke tamu karena perhitungan promo dan komisi berbeda.",
    "matrixDesc": "Matriks harga menampilkan harga untuk <strong>semua tipe kamar × semua tier OCC</strong> sekaligus.",
    "matrixElement": "Elemen",
    "matrixRoomType": "Nama tipe kamar (Deluxe, Superior, Suite...)",
    "matrixBaseNet": "Harga NET berdasarkan season (sebelum pengali OCC)",
    "matrixOccCols": "Harga setelah pengali OCC (tergantung mode: NET/BAR/Display)",
    "matrixHighlight": "<strong>Tier aktif saat ini</strong> berdasarkan OCC% aktual",
    "matrixRedCell": "<strong>Pelanggaran guardrail</strong> — harga terlalu tinggi atau rendah",
    "matrix3Views": "3 mode tampilan:",
    "matrixNetView": "Pendapatan (NET)",
    "matrixNetDesc": "Pendapatan aktual hotel",
    "matrixBarView": "BAR",
    "matrixBarDesc": "Harga dasar sebelum promo, setelah komisi",
    "matrixDisplayView": "Harga Display",
    "matrixDisplayDesc": "Harga yang dilihat tamu di OTA",
    "reverseDesc": "Ketika Anda tahu harga BAR dan ingin tahu NET aktual yang diterima:",
    "reverseTip": "Tab \"Hitung Mundur\" di halaman Pricing memungkinkan Anda memasukkan BAR untuk menghitung NET setiap channel OTA.",
    "exportDesc": "Klik <strong>Ekspor</strong> untuk mengunduh tabel harga sebagai file CSV.",
    "exportItem1": "Semua tipe kamar",
    "exportItem2": "Harga NET dasar",
    "exportItem3": "Harga NET, BAR, Display untuk setiap tier OCC",
    "exportTip": "Buka file CSV di Excel atau Google Sheets → Cetak untuk tim Front Desk atau kirim ke Sales Manager untuk perbarui harga OTA.",
    "importDesc": "Unggah file data dari PMS (Property Management System) agar sistem memiliki data untuk dianalisis.",
    "importStep1": "Siapkan File",
    "importStep1Desc": "Ekspor data pemesanan dari PMS (Opera, RoomRaccoon, Cloudbeds...) dalam format <strong>XML atau CSV</strong>.",
    "importStep1Tip": "File harus berisi: nama tamu, tanggal pemesanan, tanggal menginap, tipe kamar, tarif.",
    "importStep2": "Unggah File",
    "importStep2Desc": "Seret & lepas file ke area upload atau klik untuk memilih file.",
    "importStep2Link": "Buka halaman Upload",
    "importStep3": "Periksa Hasil",
    "importStep3Desc": "Sistem menampilkan jumlah baris data yang diproses dan peringatan (jika ada).",
    "importWarn": "<strong>Unggah setiap hari (pagi)</strong> untuk data paling akurat. Sistem otomatis melewati baris duplikat.",
    "buildOtbDesc": "Langkah ini mengagregasi data pemesanan menjadi <strong>OTB (On The Books)</strong> — kamar dipesan per hari.",
    "buildOtbInput": "<strong>Input:</strong> Data pemesanan (dari Upload)",
    "buildOtbOutput": "<strong>Output:</strong> Tabel OTB: kamar/pendapatan dipesan per stay_date",
    "buildOtbDuration": "<strong>Durasi:</strong> ~10–30 detik",
    "buildOtbLink": "Buka halaman Data",
    "buildFeatDesc": "Hitung metrik analitik dari data OTB:",
    "buildFeatPickup": "<strong>Pickup:</strong> Kamar baru dipesan (dibandingkan 7 hari lalu)",
    "buildFeatStly": "<strong>STLY:</strong> Kamar dipesan waktu yang sama tahun lalu",
    "buildFeatPace": "<strong>Pace:</strong> Kecepatan pemesanan dibandingkan tahun lalu",
    "buildFeatRemaining": "<strong>Sisa Pasokan:</strong> Kamar yang masih tersedia",
    "buildFeatWarn": "Perlu minimal <strong>2 upload terpisah 7 hari</strong> untuk Pickup aktual. Sebelum itu, sistem akan menampilkan \"N/A\".",
    "forecastDesc": "Prakirakan pemesanan tambahan di masa depan berdasarkan kecepatan pemesanan:",
    "forecastWithData": "<strong>Dengan data pickup cukup:</strong> Prakiraan akurat berdasarkan tren aktual",
    "forecastWithout": "<strong>Tanpa data pickup cukup:</strong> Menampilkan \"Perkiraan\" menggunakan perkiraan kasar (kurang akurat)",
    "forecastTip": "Setelah menyelesaikan semua 4 langkah, kembali ke Dashboard untuk melihat KPI dan Rekomendasi Harga terbaru.",
    "forecastLink": "Buka Dashboard",
    "recDate": "Tanggal menginap",
    "recOtb": "Kamar dipesan",
    "recRemaining": "Kamar tersedia (kapasitas – OTB)",
    "recForecast": "Prakiraan permintaan (sisa permintaan dari ML)",
    "recAnchor": "<strong>Harga Anchor</strong> — harga yang GM jual saat ini",
    "recAnchorSrc": "terakhir disetujui atau rack",
    "recAdrSmall": "Harga jual rata-rata aktual (referensi)",
    "recSuggested": "<strong>Harga rekomendasi sistem</strong>",
    "recAction": "Naik / Turun / Tahan / Berhenti Jual",
    "recReason": "Definisi: \"OTB X%, prakiraan Y%\"",
    "importS1Desc": "Ekspor data pemesanan dari PMS (Opera, RoomRaccoon, Cloudbeds...) dalam format <strong>XML atau CSV</strong>.",
    "importS1Tip": "File harus berisi: nama tamu, tanggal pemesanan, tanggal menginap, tipe kamar, tarif.",
    "importS2Desc": "Seret & lepas file ke area upload atau klik untuk memilih file.",
    "importS3Desc": "Sistem menampilkan jumlah baris data yang diproses dan peringatan (jika ada).",
    "forecastEnough": "<strong>Dengan data pickup cukup:</strong> Prakiraan akurat berdasarkan tren aktual",
    "forecastNotEnough": "<strong>Tanpa data pickup cukup:</strong> Menampilkan \"Perkiraan\" menggunakan perkiraan kasar (kurang akurat)",
    "forecastDashLink": "Buka Dashboard"
};

Object.assign(data.guidePage, idGuide2);
fs.writeFileSync(filePath, JSON.stringify(data, null, 2) + '\n', 'utf8');
console.log(`✅ id.json guidePage part 2: patched ${Object.keys(idGuide2).length} keys`);

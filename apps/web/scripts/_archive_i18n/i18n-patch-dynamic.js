/**
 * i18n Patch #2 â€” Add missing dynamicTab + promotionsTab keys
 */
const fs = require('fs');
const path = require('path');

const MESSAGES_DIR = path.join(__dirname, '..', 'messages');

const EXTRA_KEYS = {
    dynamicTab: {
        en: {
            currentOverview: "Current Overview",
            roomOccupancy: "Room occupancy",
            sourceOtb: "Source: OTB (automatic)",
            sourceOverride: "Source: Override",
            sourceNoData: "Source: No data",
            enterOccPct: "Enter OCC %",
            resetOcc: "Reset OCC",
            overrideOcc: "Override OCC",
            seasonSection: "Season",
            autoFromConfig: "Auto from config",
            manualOverride: "Manual override",
            resetToAuto: "Reset to auto",
            currentPriceTier: "Current Price Tier",
            unknown: "Unknown",
            otaChannel: "OTA Channel",
            effectivePriceDiscount: "Effective price discount",
            average: "Average",
            seasonTierConfig: "Season & Price Tier Configuration",
            seasonTierConfigDesc: "Set up seasons and occupancy tiers for your hotel",
            close: "Close",
            notConfigured: "Not configured OCC Tiers",
            notConfiguredDesc: "Click Configuration on the left card to set up price tiers by OCC%",
            guardrailViolations: "{count} guardrail violations",
            moreViolations: "... and {count} more violations",
            calculatingPrices: "Calculating prices...",
            export: "Export",
            seasonAuto: "Season (auto)",
            lowestNetRevenue: "Lowest Net Revenue",
            priceAnalysis: "Price Analysis",
            guardrail: "Guardrail",
            effectiveDiscount: "Effective Discount",
            noPromotions: "BAR = Display (no promotions)",
            clickForDetails: "Click for details",
            adjustment: "Adjustment",
            multiplier: "Multiplier",
            unchanged: "(unchanged)",
        },
        vi: {
            currentOverview: "Tá»•ng quan hiá»‡n táº¡i",
            roomOccupancy: "CÃ´ng suáº¥t phÃ²ng",
            sourceOtb: "Nguá»“n: OTB (tá»± Ä‘á»™ng)",
            sourceOverride: "Nguá»“n: Ghi Ä‘Ã¨",
            sourceNoData: "Nguá»“n: KhÃ´ng cÃ³ dá»¯ liá»‡u",
            enterOccPct: "Nháº­p OCC %",
            resetOcc: "Äáº·t láº¡i OCC",
            overrideOcc: "Ghi Ä‘Ã¨ OCC",
            seasonSection: "MÃ¹a",
            autoFromConfig: "Tá»± Ä‘á»™ng tá»« cáº¥u hÃ¬nh",
            manualOverride: "Ghi Ä‘Ã¨ thá»§ cÃ´ng",
            resetToAuto: "Äáº·t láº¡i tá»± Ä‘á»™ng",
            currentPriceTier: "Táº§ng giÃ¡ hiá»‡n táº¡i",
            unknown: "KhÃ´ng xÃ¡c Ä‘á»‹nh",
            otaChannel: "KÃªnh OTA",
            effectivePriceDiscount: "Giáº£m giÃ¡ thá»±c táº¿",
            average: "Trung bÃ¬nh",
            seasonTierConfig: "Cáº¥u hÃ¬nh MÃ¹a & Táº§ng GiÃ¡",
            seasonTierConfigDesc: "Thiáº¿t láº­p mÃ¹a vÃ  táº§ng cÃ´ng suáº¥t cho khÃ¡ch sáº¡n",
            close: "ÄÃ³ng",
            notConfigured: "ChÆ°a cáº¥u hÃ¬nh Táº§ng OCC",
            notConfiguredDesc: "Nháº¥n Cáº¥u hÃ¬nh á»Ÿ tháº» bÃªn trÃ¡i Ä‘á»ƒ thiáº¿t láº­p táº§ng giÃ¡ theo OCC%",
            guardrailViolations: "{count} vi pháº¡m rÃ o cháº¯n giÃ¡",
            moreViolations: "... vÃ  {count} vi pháº¡m khÃ¡c",
            calculatingPrices: "Äang tÃ­nh giÃ¡...",
            export: "Xuáº¥t",
            seasonAuto: "MÃ¹a (tá»± Ä‘á»™ng)",
            lowestNetRevenue: "Doanh thu NET tháº¥p nháº¥t",
            priceAnalysis: "PhÃ¢n tÃ­ch GiÃ¡",
            guardrail: "RÃ o cháº¯n giÃ¡",
            effectiveDiscount: "Giáº£m giÃ¡ thá»±c táº¿",
            noPromotions: "BAR = GiÃ¡ hiá»ƒn thá»‹ (khÃ´ng cÃ³ khuyáº¿n mÃ£i)",
            clickForDetails: "Nháº¥n Ä‘á»ƒ xem chi tiáº¿t",
            adjustment: "Äiá»u chá»‰nh",
            multiplier: "Há»‡ sá»‘ nhÃ¢n",
            unchanged: "(khÃ´ng Ä‘á»•i)",
        },
        id: {
            currentOverview: "Ikhtisar Saat Ini",
            roomOccupancy: "Okupansi kamar",
            sourceOtb: "Sumber: OTB (otomatis)",
            sourceOverride: "Sumber: Override",
            sourceNoData: "Sumber: Tidak ada data",
            enterOccPct: "Masukkan OCC %",
            resetOcc: "Reset OCC",
            overrideOcc: "Override OCC",
            seasonSection: "Musim",
            autoFromConfig: "Otomatis dari konfigurasi",
            manualOverride: "Override manual",
            resetToAuto: "Reset ke otomatis",
            currentPriceTier: "Tingkat Harga Saat Ini",
            unknown: "Tidak diketahui",
            otaChannel: "Kanal OTA",
            effectivePriceDiscount: "Diskon harga efektif",
            average: "Rata-rata",
            seasonTierConfig: "Konfigurasi Musim & Tingkat Harga",
            seasonTierConfigDesc: "Atur musim dan tingkat okupansi untuk hotel Anda",
            close: "Tutup",
            notConfigured: "Tingkat OCC belum dikonfigurasi",
            notConfiguredDesc: "Klik Konfigurasi di kartu kiri untuk mengatur tingkat harga berdasarkan OCC%",
            guardrailViolations: "{count} pelanggaran guardrail",
            moreViolations: "... dan {count} pelanggaran lainnya",
            calculatingPrices: "Menghitung harga...",
            export: "Ekspor",
            seasonAuto: "Musim (otomatis)",
            lowestNetRevenue: "Pendapatan NET Terendah",
            priceAnalysis: "Analisis Harga",
            guardrail: "Guardrail",
            effectiveDiscount: "Diskon Efektif",
            noPromotions: "BAR = Harga Display (tanpa promosi)",
            clickForDetails: "Klik untuk detail",
            adjustment: "Penyesuaian",
            multiplier: "Pengali",
            unchanged: "(tidak berubah)",
        },
        ms: {
            currentOverview: "Gambaran Semasa",
            roomOccupancy: "Kadar penghunian bilik",
            sourceOtb: "Sumber: OTB (automatik)",
            sourceOverride: "Sumber: Override",
            sourceNoData: "Sumber: Tiada data",
            enterOccPct: "Masukkan OCC %",
            resetOcc: "Set semula OCC",
            overrideOcc: "Override OCC",
            seasonSection: "Musim",
            autoFromConfig: "Auto dari konfigurasi",
            manualOverride: "Override manual",
            resetToAuto: "Set semula ke auto",
            currentPriceTier: "Tahap Harga Semasa",
            unknown: "Tidak diketahui",
            otaChannel: "Saluran OTA",
            effectivePriceDiscount: "Diskaun harga efektif",
            average: "Purata",
            seasonTierConfig: "Konfigurasi Musim & Tahap Harga",
            seasonTierConfigDesc: "Tetapkan musim dan tahap penghunian untuk hotel anda",
            close: "Tutup",
            notConfigured: "Tahap OCC belum dikonfigurasi",
            notConfiguredDesc: "Klik Konfigurasi di kad kiri untuk menetapkan tahap harga mengikut OCC%",
            guardrailViolations: "{count} pelanggaran guardrail",
            moreViolations: "... dan {count} pelanggaran lagi",
            calculatingPrices: "Mengira harga...",
            export: "Eksport",
            seasonAuto: "Musim (auto)",
            lowestNetRevenue: "Hasil NET Terendah",
            priceAnalysis: "Analisis Harga",
            guardrail: "Guardrail",
            effectiveDiscount: "Diskaun Efektif",
            noPromotions: "BAR = Harga Display (tiada promosi)",
            clickForDetails: "Klik untuk butiran",
            adjustment: "Pelarasan",
            multiplier: "Pengganda",
            unchanged: "(tidak berubah)",
        },
        th: {
            currentOverview: "à¸ à¸²à¸žà¸£à¸§à¸¡à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™",
            roomOccupancy: "à¸­à¸±à¸•à¸£à¸²à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸žà¸±à¸",
            sourceOtb: "à¹à¸«à¸¥à¹ˆà¸‡: OTB (à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´)",
            sourceOverride: "à¹à¸«à¸¥à¹ˆà¸‡: Override",
            sourceNoData: "à¹à¸«à¸¥à¹ˆà¸‡: à¹„à¸¡à¹ˆà¸¡à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥",
            enterOccPct: "à¹ƒà¸ªà¹ˆ OCC %",
            resetOcc: "à¸£à¸µà¹€à¸‹à¹‡à¸• OCC",
            overrideOcc: "Override OCC",
            seasonSection: "à¸¤à¸”à¸¹à¸à¸²à¸¥",
            autoFromConfig: "à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¸ˆà¸²à¸à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²",
            manualOverride: "Override à¸”à¹‰à¸§à¸¢à¸•à¸™à¹€à¸­à¸‡",
            resetToAuto: "à¸£à¸µà¹€à¸‹à¹‡à¸•à¹€à¸›à¹‡à¸™à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´",
            currentPriceTier: "à¸£à¸°à¸”à¸±à¸šà¸£à¸²à¸„à¸²à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™",
            unknown: "à¹„à¸¡à¹ˆà¸—à¸£à¸²à¸š",
            otaChannel: "à¸Šà¹ˆà¸­à¸‡à¸—à¸²à¸‡ OTA",
            effectivePriceDiscount: "à¸ªà¹ˆà¸§à¸™à¸¥à¸”à¸£à¸²à¸„à¸²à¸—à¸µà¹ˆà¸¡à¸µà¸œà¸¥",
            average: "à¹€à¸‰à¸¥à¸µà¹ˆà¸¢",
            seasonTierConfig: "à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸¤à¸”à¸¹à¸à¸²à¸¥à¹à¸¥à¸°à¸£à¸°à¸”à¸±à¸šà¸£à¸²à¸„à¸²",
            seasonTierConfigDesc: "à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸¤à¸”à¸¹à¸à¸²à¸¥à¹à¸¥à¸°à¸£à¸°à¸”à¸±à¸šà¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸žà¸±à¸à¸ªà¸³à¸«à¸£à¸±à¸šà¹‚à¸£à¸‡à¹à¸£à¸¡à¸‚à¸­à¸‡à¸„à¸¸à¸“",
            close: "à¸›à¸´à¸”",
            notConfigured: "à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸£à¸°à¸”à¸±à¸š OCC",
            notConfiguredDesc: "à¸„à¸¥à¸´à¸à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸—à¸µà¹ˆà¸à¸²à¸£à¹Œà¸”à¸—à¸²à¸‡à¸‹à¹‰à¸²à¸¢à¹€à¸žà¸·à¹ˆà¸­à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸£à¸°à¸”à¸±à¸šà¸£à¸²à¸„à¸²à¸•à¸²à¸¡ OCC%",
            guardrailViolations: "{count} à¸à¸²à¸£à¸¥à¸°à¹€à¸¡à¸´à¸” guardrail",
            moreViolations: "... à¹à¸¥à¸°à¸­à¸µà¸ {count} à¸à¸²à¸£à¸¥à¸°à¹€à¸¡à¸´à¸”",
            calculatingPrices: "à¸à¸³à¸¥à¸±à¸‡à¸„à¸³à¸™à¸§à¸“à¸£à¸²à¸„à¸²...",
            export: "à¸ªà¹ˆà¸‡à¸­à¸­à¸",
            seasonAuto: "à¸¤à¸”à¸¹à¸à¸²à¸¥ (à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´)",
            lowestNetRevenue: "à¸£à¸²à¸¢à¹„à¸”à¹‰ NET à¸•à¹ˆà¸³à¸ªà¸¸à¸”",
            priceAnalysis: "à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸£à¸²à¸„à¸²",
            guardrail: "Guardrail",
            effectiveDiscount: "à¸ªà¹ˆà¸§à¸™à¸¥à¸”à¸—à¸µà¹ˆà¸¡à¸µà¸œà¸¥",
            noPromotions: "BAR = à¸£à¸²à¸„à¸²à¹à¸ªà¸”à¸‡à¸œà¸¥ (à¹„à¸¡à¹ˆà¸¡à¸µà¹‚à¸›à¸£à¹‚à¸¡à¸Šà¸±à¸™)",
            clickForDetails: "à¸„à¸¥à¸´à¸à¹€à¸žà¸·à¹ˆà¸­à¸”à¸¹à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”",
            adjustment: "à¸à¸²à¸£à¸›à¸£à¸±à¸š",
            multiplier: "à¸•à¸±à¸§à¸„à¸¹à¸“",
            unchanged: "(à¹„à¸¡à¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™)",
        },
    },
};

['en', 'vi', 'id', 'ms', 'th'].forEach(lang => {
    const filePath = path.join(MESSAGES_DIR, `${lang}.json`);
    const data = JSON.parse(fs.readFileSync(filePath, 'utf-8'));

    Object.keys(EXTRA_KEYS).forEach(ns => {
        if (data[ns] && EXTRA_KEYS[ns][lang]) {
            Object.assign(data[ns], EXTRA_KEYS[ns][lang]);
        }
    });

    fs.writeFileSync(filePath, JSON.stringify(data, null, 2) + '\n', 'utf-8');
    console.log(`âœ… Patched ${lang}.json`);
});
console.log('ðŸŽ‰ Done!');
